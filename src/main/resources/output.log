=== START TESTS Thu Jan 29 01:24:28 AM MSK 2026 ===

=== 1. REGISTRATION ===
Registering user1...
Note: Unnecessary use of -X or --request, POST is already inferred.
*   Trying 127.0.0.1:8080...
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/auth/signup HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Content-Length: 76
> 
} [76 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 201 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
100    76    0     0  100    76      0    265 --:--:-- --:--:-- --:--:--   265
* Connection #0 to host localhost left intact

=== 2. LOGIN ===
Logging in user1...
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/auth/signin HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Content-Length: 41
> 
} [41 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
{ [149 bytes data]
* Connection #0 to host localhost left intact
{"token":"eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4"}
HTTP Status: 200
Token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4

=== 4. ADD PHONE ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 25
> 
} [25 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
* Connection #0 to host localhost left intact

HTTP Status: 200

=== 5. ADD EMAIL ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 28
> 
} [28 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
* Connection #0 to host localhost left intact

HTTP Status: 200

=== 6. ADD SECOND PHONE ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 25
> 
} [25 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 400 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< Connection: close
< 
{ [63 bytes data]
* Closing connection 0
{"message":"Phone number already exists in your profile"}
HTTP Status: 400

=== 6.1 CHECK ALL CONTACTS ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> GET /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 405 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< Allow: DELETE, POST
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
{ [121 bytes data]
* Connection #0 to host localhost left intact
{"timestamp":"2026-01-28T22:24:28.945+00:00","status":405,"error":"Method Not Allowed","path":"/api/users/profile"}
HTTP Status: 405

=== 7. DELETE FIRST PHONE ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> DELETE /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 25
> 
} [25 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
* Connection #0 to host localhost left intact

HTTP Status: 200

=== 7.1 CHECK AFTER DELETE ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> GET /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 405 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< Allow: DELETE, POST
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
{ [121 bytes data]
* Connection #0 to host localhost left intact
{"timestamp":"2026-01-28T22:24:28.991+00:00","status":405,"error":"Method Not Allowed","path":"/api/users/profile"}
HTTP Status: 405

=== 8. REGISTER SECOND USER ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/auth/signup HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Content-Length: 57
> 
} [57 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 201 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
* Connection #0 to host localhost left intact

HTTP Status: 201
Failed logging in user2...
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/auth/signin HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Content-Length: 42
> 
} [42 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 401 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
{ [36 bytes data]
* Connection #0 to host localhost left intact
{"message":"Invalid password"}Logging in user2...

=== 9. MONEY TRANSFER ===
Transfer 300 from user1 to user2...
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/payments HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 36
> 
} [36 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
* Connection #0 to host localhost left intact

HTTP Status: 200

=== 11. TRANSFER MORE THAN BALANCE ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> POST /api/payments HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 37
> 
} [37 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 400 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Type: application/json
< Transfer-Encoding: chunked
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< Connection: close
< 
{ [90 bytes data]
* Closing connection 0
{"message":"User user1 has insufficient funds. Balance: 700.00, Required: 1,000.00"}
HTTP Status: 400

=== 12. DELETE EMAIL ===
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
> DELETE /api/users/profile HTTP/1.1
> Host: localhost:8080
> User-Agent: curl/7.81.0
> Accept: */*
> Content-Type: application/json
> Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMSIsImlhdCI6MTc2OTYzOTA2OCwiZXhwIjoxNzY5NjQyNjY4fQ.HJXnyyNrHLjMfPNcZ2Nhwr7A6sD5Z8efkoToeXayGN4
> Content-Length: 28
> 
} [28 bytes data]
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 
< Vary: Origin
< Vary: Access-Control-Request-Method
< Vary: Access-Control-Request-Headers
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 0
< Cache-Control: no-cache, no-store, max-age=0, must-revalidate
< Pragma: no-cache
< Expires: 0
< X-Frame-Options: DENY
< Content-Length: 0
< Date: Wed, 28 Jan 2026 22:24:28 GMT
< 
* Connection #0 to host localhost left intact

HTTP Status: 200

=== TESTS COMPLETED Thu Jan 29 01:24:29 AM MSK 2026 ===
